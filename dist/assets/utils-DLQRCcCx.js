(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();function l(r,e,o,a="afterbegin",t=!1){if(t&&(e.innerHTML=""),!Array.isArray(o)||o.length===0)return;const n=o.map(r).join("");e.insertAdjacentHTML(a,n)}function u(r){try{const e=localStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return console.warn(`LocalStorage read failed for key: ${r}`,e),null}}function f(r){return new URLSearchParams(window.location.search).get(r)}function c(r,e,o){e.innerHTML=r}async function s(r){try{const e=await fetch(r);if(!e.ok)throw new Error(`Template fetch failed: ${r}`);return await e.text()}catch(e){return console.error(`Error loading template: ${r}`,e),`<p>Error loading ${r}</p>`}}async function d(){try{const r=await s("/partials/header.html"),e=await s("/partials/footer.html"),o=document.querySelector("#main-header"),a=document.querySelector("#main-footer");o&&c(r,o),a&&c(e,a)}catch(r){console.error("Error injecting header/footer:",r)}}function m(r,e=300){let o;return(...a)=>{clearTimeout(o),o=setTimeout(()=>r(...a),e)}}function g(r,e){if(!e||!r)return r;const o=e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),a=new RegExp(`(${o})`,"gi");return r.replace(a,"<mark>$1</mark>")}export{f as a,m as d,u as g,g as h,d as l,l as r};
